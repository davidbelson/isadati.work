<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/picnic">
    <title>ISADATI PLACEHOLDER</title>
  </head>
  <body>
    <h1><span class="label">HELLO WORLD. </span></h1>
    <h2><span class="label">I STARE AT DATA ABOUT THE INTERNET.</span></h2>

<iframe width={800} height={400} src="https://tdias-radar-2853-embed.radar-frontend.pages.dev/embed/TrafficTrendsXY?chartState=%7B%22traffictrends.minmax%22%3Afalse%2C%22xy.hiddenSeries%22%3A%5B%5D%2C%22xy.previousVisible%22%3Atrue%7D" title="Cloudflare Radar - Internet traffic trends" frameBorder="0"></iframe>

  <div id="controls"></div>
  <div id="result"></div>

  <script type="module">
    import SpeedTest from 'https://cdn.skypack.dev/@cloudflare/speedtest';

    const controlEl = document.getElementById('controls');
    const resEl = document.getElementById('result');

    const engine = new SpeedTest({
      autoStart: false
    });
    engine.onRunningChange = running => controlEl.textContent = running ? 'Running...' : 'Finished!';
    engine.onResultsChange = ({ type }) => {
      !engine.isFinished && setResult(engine.results.raw);
      console.log(type);
    };
    engine.onFinish = results => {
      setResult(results.getSummary());
      console.log(results.getSummary());
      console.log(results.getScores());
    };

    const playButton = document.createElement('button');
    playButton.textContent = "Start Speed Measurement";
    playButton.onclick = () => engine.play();
    controlEl.appendChild(playButton);

    function setResult(obj) {
      const resTxt = document.createElement('pre');
      resTxt.textContent = JSON.stringify(obj, null, 2);
      resEl.textContent = '';
      resEl.appendChild(resTxt);
    }
  </script>
  </body>
</html>
